<html>
<head>
    <title>Cari Parkir</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
        }
    </style>
    <script>
        let userParked = false;
        let currentSlot = null;

        function handleSlotClick(status, element) {
            if (status === 'occupied') {
                alert('Maaf, parkiran tidak tersedia!');
            } else if (status === 'available') {
                if (userParked) {
                    alert('Anda sudah menempati parkir lain!');
                } else {
                    const userResponse = confirm('Parkiran tersedia, Mengisi parkir?');
                    if (userResponse) {
                        element.classList.remove('bg-green-500');
                        element.classList.add('bg-blue-900');
                        element.setAttribute('onclick', 'handleSlotClick("userOccupied", this)');
                        userParked = true;
                        currentSlot = element;
                    }
                }
            } else if (status === 'userOccupied') {
                const userResponse = confirm('Apakah anda ingin meninggalkan parkir?');
                if (userResponse) {
                    element.classList.remove('bg-blue-900');
                    element.classList.add('bg-green-500');
                    element.setAttribute('onclick', 'handleSlotClick("available", this)');
                    userParked = false;
                    currentSlot = null;
                }
            }
        }

        function logout() {
            const confirmLogout = confirm('Apakah anda yakin untuk keluar?');
            if (confirmLogout) {
                // Terminate session and redirect to login.html
                alert('Sesi Anda telah diakhiri.');
                window.location.href = 'login.html';
            }
        }
    </script>
</head>
<body>
    <div class="bg-blue-900 text-white p-5 text-center relative">
        <h1 class="text-2xl">Halo, Barka Fuadi Azma!</h1>
        <div class="absolute top-5 right-5 text-2xl cursor-pointer" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>
        </div>
    </div>
    <div class="text-center p-5">
        <h2 class="bg-blue-900 text-white p-2 rounded-lg w-1/2 mx-auto text-xl">Gedung A Filkom</h2>
        <div class="flex justify-center my-5">
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
        </div>
        <div class="flex justify-center my-5">
            <div class="w-1/2 h-12 m-1 rounded-lg bg-gray-300"></div>
        </div>
        <div class="flex justify-center my-5">
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-green-500" onclick="handleSlotClick('available', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
            <div class="w-12 h-24 m-1 rounded-lg cursor-pointer bg-red-500" onclick="handleSlotClick('occupied', this)"></div>
        </div>
    </div>
</body>
</html>
